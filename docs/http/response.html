<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>Response</title>
        <meta name="description" content=""/>
        <meta name="robots" content="index, follow"/>
        <meta property="og:title" content="Response"/>
        <meta property="og:image" content="http://alterframework.com/assets/images/logo.png"/>
        <meta property="og:site_name" content="Response"/>
        <meta property="og:url" content="http://alterframework.com"/>
        <meta property="og:description" content="A Microframework for WordPress Applications"/>
        <meta property="og:type" content="website"/>
        <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
        <link rel="stylesheet" href="http://alterframework.com/assets/css/all.css"/>
        <link rel="stylesheet" href="http://alterframework.com/assets/css/custom.css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>
        <script src="//use.typekit.net/yjz4fyo.js"></script>
        <script>try{Typekit.load();}catch(e){}</script>
    </head>
    <body style="padding-top: 5em">

        <div class="wrapper" style="width: 100%">
      <div class="container">
    
        <header class="site-header">
          <div class="site-title"><a href="http://alterframework.com">Alter</a></div>
          <div class="site-slogan">A Microframework for WordPress Applications</div>
        </header>

    
        <div class="row">
            <div class="col-md-3">

                                          <h3>Getting Started</h3>
              <ul>
                                    <li><a href="http://alterframework.com/docs/index.html">Installation</a></li>
                                    <li><a href="http://alterframework.com/docs/config.html">Configuration</a></li>
                                </ul>
                            <h3>The Basics</h3>
              <ul>
                                    <li><a href="http://alterframework.com/docs/basics/routes.html">Routes</a></li>
                                    <li><a href="http://alterframework.com/docs/basics/views.html">Views and Layouts</a></li>
                                    <li><a href="http://alterframework.com/docs/basics/wordpress.html">WordPress Templates</a></li>
                                    <li><a href="http://alterframework.com/docs/basics/helpers.html">View Helpers</a></li>
                                </ul>
                            <h3>HTTP</h3>
              <ul>
                                    <li><a href="http://alterframework.com/docs/http/request.html">Requests</a></li>
                                    <li><a href="http://alterframework.com/docs/http/response.html">Responses</a></li>
                                </ul>
                            <h3>Models</h3>
              <ul>
                                    <li><a href="http://alterframework.com/docs/models/creating.html">Creating Models</a></li>
                                    <li><a href="http://alterframework.com/docs/models/fields.html">Setting model fields</a></li>
                                    <li><a href="http://alterframework.com/docs/models/relations.html">Relationships</a></li>
                                    <li><a href="http://alterframework.com/docs/models/retrieving.html">Retrieving and Saving</a></li>
                                    <li><a href="http://alterframework.com/docs/models/taxonomies.html">Taxonomies</a></li>
                                    <li><a href="http://alterframework.com/docs/models/seeding.html">Seeds</a></li>
                                    <li><a href="http://alterframework.com/docs/models/dashboard.html">Dashboard customization</a></li>
                                </ul>
              
              
            </div>
    
          <div class="col-md-9" style="padding-left: 2em">
        <h1>Response</h1>
        <p>The HTTP response returned to the client will have a body. The HTTP body is the actual content of the HTTP response
delivered to the client. You can use the Response object to set the HTTP response’s body. The response object is binded to route and middlewares closures, so you can access usind <code>$this</code>:</p>
<pre><code class="language-php">Route::get('/', function(){

  // Overwrite response body
  $this-&gt;setBody('Foo');

  // Append response body
  $this-&gt;write('Bar');

});</code></pre>
<p>When you overwrite or append the response object’s body, the response object will automatically set the
<strong>Content-Length</strong> header based on the bytesize of the new response body.</p>
<p>You can fetch the response object’s body like this:</p>
<pre><code class="language-php">$body = $this-&gt;getBody();</code></pre>
<h2 id="status">Status</h2>
<p>The HTTP response returned to the client will have a status code indicating the response’s type
(e.g. 200 OK, 400 Bad Request, or 500 Server Error). You can use the Response object to set the
HTTP response’s status like this:</p>
<pre><code class="language-php">$this-&gt;setStatus(400);</code></pre>
<p>You only need to set the response object’s status if you intend to return an HTTP response that <em>does not</em> have
a 200 OK status. You can just as easily fetch the response object’s current HTTP status by invoking the same
method without an argument, like this:</p>
<pre><code class="language-php">$status = $this-&gt;getStatus();</code></pre>
<h2 id="headers">Headers</h2>
<p>The HTTP response returned to the HTTP client will have a header. The HTTP header is a list of keys and values that
provide metadata about the HTTP response. You can use the Response object to set the HTTP
response’s header.</p>
<pre><code class="language-php">$this-&gt;headers-&gt;set('Content-Type', 'application/json');</code></pre>
<p>You may also fetch headers from the response object's <code>headers</code> property, too:</p>
<pre><code class="language-php">$this-&gt;headers-&gt;get('Content-Type');</code></pre>
<p>If a header with the given name does not exist, <code>null</code> is returned. You may specify header names with upper, lower,
or mixed case with dashes or underscores. Use the naming convention with which you are most comfortable.</p>
<h1 id="helpers">Helpers</h1>
<p>The response object provides helper methods to inspect and interact with the underlying HTTP response.</p>
<h3 id="finalize">Finalize</h3>
<p>The response object’s <code>finalize()</code> method returns a numeric array of <code>[status, header, body]</code>. The status is
an integer; the header is an iterable data structure; and the body is a string. Were you to create a new
<code>\Ampersand\Http\Response</code> object in your Slim application or its middleware, you would call the response object's
<code>finalize()</code> method to produce the status, header, and body for the underlying HTTP response.</p>
<pre><code class="language-php">/**
 * Prepare new response object
 */
$res = new \Ampersand\Http\Response();
$res-&gt;setStatus(400);
$res-&gt;write('You made a bad request');
$res-&gt;headers-&gt;set('Content-Type', 'text/plain');

/**
 * Finalize
 * @return [
 *     200,
 *     ['Content-type' =&gt; 'text/plain'],
 *     'You made a bad request'
 * ]
 */
$array = $res-&gt;finalize();</code></pre>
<h3 id="redirect">Redirect</h3>
<p>The response object’s <code>redirect()</code> method will set the response status and its <strong>Location:</strong> header needed to
return a <strong>3xx Redirect</strong> response.</p>
<pre><code class="language-php">$res-&gt;redirect('/foo', 303);</code></pre>
<h3 id="returning-json">Returning JSON</h3>
<p>The response object’s <code>toJSON()</code> method will encode any parameter, set the <code>application/json</code> to <code>Content-Type</code> header and ouput to the user:</p>
<pre><code class="language-php">$res-&gt;toJSON(['error'=&gt;'Not found!']);</code></pre>
<h3 id="status-introspection">Status Introspection</h3>
<p>The response object provides other helper methods to inspect its current status. All of the following methods
return a boolean value:</p>
<pre><code class="language-php">//Is this an informational response?
$res-&gt;isInformational();

//Is this a 200 OK response?
$res-&gt;isOk();

//Is this a 2xx successful response?
$res-&gt;isSuccessful();

//Is this a 3xx redirection response?
$res-&gt;isRedirection();

//Is this a specific redirect response? (301, 302, 303, 307)
$res-&gt;isRedirect();

//Is this a forbidden response?
$res-&gt;isForbidden();

//Is this a not found response?
$res-&gt;isNotFound();

//Is this a client error response?
$res-&gt;isClientError();

//Is this a server error response?
$res-&gt;isServerError();</code></pre>
      </div>
      </div>

    <footer class="site-footer">
        <p>Developed by <a href="http://vilar.cc">Sergio Vilar</a> and <a href="https://github.com/alterfw/alter/graphs/contributors" target="_blank">contributors</a>.</p>
    </footer>

    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="http://alterframework.com/assets/scripts/build/production.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<a target="_blank" href="https://github.com/alterfw/alter"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
</body>
</html>
